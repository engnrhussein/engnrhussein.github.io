<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syngas Production & Hydrogen Separation | DWSIM Simulation</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #0a192f;
            --secondary: #112240;
            --accent: #64ffda;
            --accent2: #0a7bff;
            --text: #ccd6f6;
            --text-light: #a8b2d1;
            --success: #64ffda;
            --warning: #f9a826;
            --danger: #ff4d4d;
            --card-bg: rgba(17, 34, 64, 0.7);
            --border-radius: 12px;
            --transition: all 0.3s ease;
            --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--primary);
            color: var(--text);
            line-height: 1.6;
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(86, 58, 250, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 80% 80%, rgba(100, 255, 218, 0.1) 0%, transparent 20%);
            min-height: 100vh;
            overflow-x: hidden;
            padding: 20px;
        }
        
        .container {
            max-width: 98vw;
            margin: 0 auto;
        }
        
        /* Header Styles */
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            min-width: 300px;
            margin-bottom: 15px;
        }
        
        .logo-icon {
            background: linear-gradient(135deg, var(--accent), var(--accent2));
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
        }
        
        .logo-text h1 {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }
        
        .logo-text p {
            color: var(--text-light);
            font-size: 14px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: var(--secondary);
            color: var(--text);
            border: 1px solid rgba(100, 255, 218, 0.3);
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }
        
        .btn:hover {
            background: rgba(100, 255, 218, 0.1);
            transform: translateY(-2px);
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            color: var(--primary);
            font-weight: 600;
        }
        
        /* Dashboard Layout */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(600px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            box-shadow: var(--card-shadow);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(100, 255, 218, 0.1);
            transition: var(--transition);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.4);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .card-title i {
            color: var(--accent);
        }
        
        /* Flowsheet Section */
        .flowsheet-container {
            grid-column: 1 / -1;
            height: 500px;
            overflow: hidden;
            position: relative;
        }
        
        .flowsheet-container img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
        
        /* Metrics Section */
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .metric-card {
            background: rgba(10, 25, 47, 0.6);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            border: 1px solid rgba(100, 255, 218, 0.1);
            transition: var(--transition);
        }
        
        .metric-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
            border-color: rgba(100, 255, 218, 0.4);
        }
        
        .metric-value {
            font-size: 28px;
            font-weight: 700;
            margin: 10px 0;
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .metric-label {
            color: var(--text-light);
            font-size: 14px;
        }
        
        /* Stream Table */
        .table-container {
            overflow-x: auto;
            margin-top: 15px;
            border-radius: var(--border-radius);
            border: 1px solid rgba(100, 255, 218, 0.1);
            max-height: 500px;
            overflow-y: auto;
        }
        
        .stream-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 1200px;
        }
        
        .stream-table th {
            background-color: rgba(17, 34, 64, 0.9);
            padding: 15px 12px;
            text-align: left;
            font-weight: 600;
            text-transform: uppercase;
            font-size: 13px;
            letter-spacing: 1px;
            color: var(--accent);
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
            position: sticky;
            top: 0;
        }
        
        .stream-table td {
            padding: 12px;
            border-bottom: 1px solid rgba(100, 255, 218, 0.1);
            color: var(--text);
        }
        
        .stream-table tr:last-child td {
            border-bottom: none;
        }
        
        .stream-table tr:hover {
            background-color: rgba(100, 255, 218, 0.05);
        }
        
        .phase-tag {
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .phase-vapor {
            background: rgba(10, 123, 255, 0.2);
            color: #0a7bff;
        }
        
        .phase-liquid {
            background: rgba(100, 255, 218, 0.2);
            color: var(--accent);
        }
        
        /* Charts */
        .chart-container {
            height: 300px;
            position: relative;
            margin-top: 15px;
        }
        
        .flow-chart-container {
            height: 300px;
            position: relative;
            margin-top: 15px;
            overflow-x: auto;
        }
        
        .flow-chart-container canvas {
            min-width: 1600px;
        }
        
        /* Footer */
        footer {
            margin-top: 50px;
            padding: 30px 0;
            text-align: center;
            border-top: 1px solid rgba(100, 255, 218, 0.2);
            color: var(--text-light);
            font-size: 14px;
        }
        
        .footer-links {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: var(--text-light);
            text-decoration: none;
            transition: var(--transition);
            white-space: nowrap;
        }
        
        .footer-links a:hover {
            color: var(--accent);
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(100, 255, 218, 0.2);
            padding-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .tab {
            padding: 8px 20px;
            border-radius: 30px;
            cursor: pointer;
            background: transparent;
            border: 1px solid rgba(100, 255, 218, 0.3);
            color: var(--text-light);
            transition: var(--transition);
            margin-bottom: 5px;
        }
        
        .tab.active {
            background: linear-gradient(90deg, var(--accent), var(--accent2));
            color: var(--primary);
            border-color: transparent;
        }
        
        .tab:hover:not(.active) {
            background: rgba(100, 255, 218, 0.1);
        }
        
        /* Responsive */
        @media (max-width: 1200px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 20px;
            }
            
            .logo {
                justify-content: center;
                text-align: center;
            }
            
            .controls {
                width: 100%;
                justify-content: center;
            }
            
            .tabs {
                overflow-x: auto;
                padding-bottom: 10px;
            }
            
            .flowsheet-container {
                height: 300px;
            }
        }
        
        /* Scrollbar styling */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: rgba(17, 34, 64, 0.5);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: rgba(100, 255, 218, 0.3);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: rgba(100, 255, 218, 0.5);
        }
        
        /* Glow effects */
        .glow {
            position: absolute;
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(100, 255, 218, 0.2), transparent 70%);
            filter: blur(50px);
            z-index: -1;
        }
        
        .glow-1 {
            top: 10%;
            left: 10%;
        }
        
        .glow-2 {
            bottom: 10%;
            right: 10%;
            background: radial-gradient(circle, rgba(10, 123, 255, 0.2), transparent 70%);
        }
    </style>
</head>
<body>
    <div class="glow glow-1"></div>
    <div class="glow glow-2"></div>
    
    <div class="container">
        <header>
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-atom"></i>
                </div>
                <div class="logo-text">
                    <h1>Syngas Production & Hydrogen Separation</h1>
                    <p>DWSIM Simulation Analysis Dashboard</p>
                </div>
            </div>
            <div class="controls">
                <button class="btn">
                    <i class="fas fa-download"></i> Export Data
                </button>
                <button class="btn btn-primary">
                    <i class="fas fa-sync-alt"></i> Run Simulation
                </button>
            </div>
        </header>
        
        <div class="tabs">
            <div class="tab active">Dashboard</div>
            <div class="tab">Stream Analysis</div>
            <div class="tab">Composition</div>
            <div class="tab">Thermodynamics</div>
            <div class="tab">Performance</div>
        </div>
        
        <div class="dashboard">
            <!-- Key Metrics -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-tachometer-alt"></i> Process Overview</h2>
                    <div class="btn">
                        <i class="fas fa-info-circle"></i>
                    </div>
                </div>
                <p>This dashboard displays key parameters from the DWSIM simulation of syngas production and hydrogen separation. The data represents all 21 streams in the process with their thermodynamic properties.</p>
                
                <div class="metrics-grid">
                    <div class="metric-card">
                        <i class="fas fa-fire" style="font-size: 24px; color: var(--warning);"></i>
                        <div class="metric-value">1,321°C</div>
                        <div class="metric-label">Max Temperature</div>
                    </div>
                    <div class="metric-card">
                        <i class="fas fa-tachometer-alt" style="font-size: 24px; color: var(--danger);"></i>
                        <div class="metric-value">700 bar</div>
                        <div class="metric-label">Max Pressure</div>
                    </div>
                    <div class="metric-card">
                        <i class="fas fa-weight-hanging" style="font-size: 24px; color: var(--success);"></i>
                        <div class="metric-value">23,688 kg/h</div>
                        <div class="metric-label">Max Mass Flow</div>
                    </div>
                    <div class="metric-card">
                        <i class="fas fa-wind" style="font-size: 24px; color: var(--accent2);"></i>
                        <div class="metric-value">1,798 kmol/h</div>
                        <div class="metric-label">Max Molar Flow</div>
                    </div>
                </div>
            </div>
            
            <!-- Composition Chart -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-chart-pie"></i> Stream Composition</h2>
                    <select id="compositionSelector" class="btn">
                        <option value="21">SMR Product (D)</option>
                        <option value="29">Tank Inlet (Pure H2) (B)</option>
                        <option value="1">Methane Feed (F)</option>
                        <option value="17">SMR Feed (E)</option>
                    </select>
                </div>
                <div class="chart-container">
                    <canvas id="compositionChart"></canvas>
                </div>
            </div>
            
            <!-- Stream Components Bar Chart -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-chart-bar"></i> Stream Components</h2>
                </div>
                <div class="chart-container" style="height: 400px; overflow-x: auto;">
                    <canvas id="streamComponentsChart" style="min-width: 2000px;"></canvas>
                </div>
            </div>
            
            <!-- Flowsheet Section -->
            <div class="card flowsheet-container">
                <img src="https://raw.githubusercontent.com/engnrhussein/engnrhussein.github.io/main/projects/PFD.png" 
                     alt="Process Flowsheet Diagram" 
                     class="w-full h-full object-contain">
            </div>
            
            <!-- Stream Data Table -->
            <div class="card">
                <div class="card-header">
                    <h2 class="card-title"><i class="fas fa-table"></i> Stream Properties</h2>
                    <div class="btn">
                        <i class="fas fa-filter"></i> Filter
                    </div>
                </div>
                <p>Detailed thermodynamic properties for each stream in the syngas production process:</p>
                
                <div class="table-container">
                    <table class="stream-table">
                        <thead>
                            <tr>
                                <th>Stream</th>
                                <th>Phase</th>
                                <th>Temp (°C)</th>
                                <th>Pressure (bar)</th>
                                <th>Mass Flow (kg/h)</th>
                                <th>Molar Flow (kmol/h)</th>
                                <th>Density (kg/m³)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Tank Inlet (Pure H2) (B)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>15.0</td>
                                <td>700.00</td>
                                <td>1,716.1</td>
                                <td>851.3</td>
                                <td>39.83</td>
                            </tr>
                            <tr>
                                <td>Separator Outlet (C)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>220.0</td>
                                <td>20.00</td>
                                <td>21,971.9</td>
                                <td>946.4</td>
                                <td>11.94</td>
                            </tr>
                            <tr>
                                <td>SMR Product (D)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>1,200.0</td>
                                <td>20.00</td>
                                <td>23,687.9</td>
                                <td>1,797.7</td>
                                <td>2.145</td>
                            </tr>
                            <tr>
                                <td>SMR Feed (E)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>850.7</td>
                                <td>20.00</td>
                                <td>23,687.9</td>
                                <td>1,339.9</td>
                                <td>3.782</td>
                            </tr>
                            <tr>
                                <td>Methane Feed (F)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>25.0</td>
                                <td>1.01</td>
                                <td>3,672.0</td>
                                <td>228.9</td>
                                <td>0.657</td>
                            </tr>
                            <tr>
                                <td>LTS Product (G)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>220.0</td>
                                <td>20.00</td>
                                <td>23,687.9</td>
                                <td>1,797.7</td>
                                <td>6.499</td>
                            </tr>
                            <tr>
                                <td>LTS Inlet (H)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>220.0</td>
                                <td>20.00</td>
                                <td>23,687.9</td>
                                <td>1,797.7</td>
                                <td>6.499</td>
                            </tr>
                            <tr>
                                <td>HTS Product (I)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>359.7</td>
                                <td>20.00</td>
                                <td>23,687.9</td>
                                <td>1,797.7</td>
                                <td>5.019</td>
                            </tr>
                            <tr>
                                <td>HTS Inlet (J)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>359.7</td>
                                <td>20.00</td>
                                <td>23,687.9</td>
                                <td>1,797.7</td>
                                <td>5.019</td>
                            </tr>
                            <tr>
                                <td>Final Pure H2 (K)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>15.0</td>
                                <td>700.00</td>
                                <td>1,716.1</td>
                                <td>851.3</td>
                                <td>39.83</td>
                            </tr>
                            <tr>
                                <td>Feed Water Mixer Inlet 2 (L)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>846.0</td>
                                <td>20.00</td>
                                <td>20,015.9</td>
                                <td>1,111.1</td>
                                <td>3.878</td>
                            </tr>
                            <tr>
                                <td>Feed Methane Mixer Inlet 1 (M)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>865.0</td>
                                <td>20.48</td>
                                <td>3,672.0</td>
                                <td>228.9</td>
                                <td>3.452</td>
                            </tr>
                            <tr>
                                <td>Clean H2 (N)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>220.0</td>
                                <td>20.00</td>
                                <td>1,716.1</td>
                                <td>851.3</td>
                                <td>0.976</td>
                            </tr>
                            <tr>
                                <td>Stream 9 (O)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>950.0</td>
                                <td>1.01</td>
                                <td>12,716.9</td>
                                <td>705.9</td>
                                <td>0.179</td>
                            </tr>
                            <tr>
                                <td>Stream 7 (P)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>1,200.0</td>
                                <td>1.01</td>
                                <td>12,716.9</td>
                                <td>705.9</td>
                                <td>0.149</td>
                            </tr>
                            <tr>
                                <td>Stream 6 (Q)</td>
                                <td><span class="phase-tag phase-liquid">Liquid</span></td>
                                <td>25.1</td>
                                <td>20.00</td>
                                <td>20,015.9</td>
                                <td>1,111.1</td>
                                <td>996.6</td>
                            </tr>
                            <tr>
                                <td>Stream 4 (R)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>342.0</td>
                                <td>20.00</td>
                                <td>20,015.9</td>
                                <td>1,111.1</td>
                                <td>5.123</td>
                            </tr>
                            <tr>
                                <td>Stream 26 (S)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>1,321.0</td>
                                <td>1.01</td>
                                <td>12,716.9</td>
                                <td>705.9</td>
                                <td>0.145</td>
                            </tr>
                            <tr>
                                <td>Stream 2 (T)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>25.0</td>
                                <td>1.01</td>
                                <td>3,672.0</td>
                                <td>228.9</td>
                                <td>0.657</td>
                            </tr>
                            <tr>
                                <td>Stream 16 (U)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>220.0</td>
                                <td>20.00</td>
                                <td>1,716.1</td>
                                <td>851.3</td>
                                <td>0.976</td>
                            </tr>
                            <tr>
                                <td>Stream 14 (V)</td>
                                <td><span class="phase-tag phase-vapor">Vapor</span></td>
                                <td>220.0</td>
                                <td>20.00</td>
                                <td>21,971.9</td>
                                <td>946.4</td>
                                <td>11.94</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Developed with ❤️ for Process Simulation Enthusiasts</p>
            <div class="footer-links">
                <a href="#">Documentation</a>
                <a href="#">Source Code</a>
                <a href="#">DWSIM Project</a>
                <a href="#">Contact</a>
            </div>
        </footer>
    </div>
    
    <script>
        // Composition Chart
        const compositionCtx = document.getElementById('compositionChart').getContext('2d');
        const compositionSelector = document.getElementById('compositionSelector');
        
        const compositions = {
            '21': {
                labels: ['Hydrogen', 'Water', 'Carbon Monoxide', 'Carbon Dioxide', 'Methane'],
                data: [49.8, 37.5, 1.13, 11.6, 0.0001],
                title: 'SMR Product (D)'
            },
            '29': {
                labels: ['Hydrogen', 'Water', 'Carbon Monoxide', 'Carbon Dioxide', 'Methane'],
                data: [100, 0, 0, 0, 0],
                title: 'Tank Inlet (Pure H2) (B)'
            },
            '1': {
                labels: ['Hydrogen', 'Water', 'Carbon Monoxide', 'Carbon Dioxide', 'Methane'],
                data: [0, 0, 0, 0, 100],
                title: 'Methane Feed (F)'
            },
            '17': {
                labels: ['Hydrogen', 'Water', 'Carbon Monoxide', 'Carbon Dioxide', 'Methane'],
                data: [0, 82.9, 0, 0, 17.1],
                title: 'SMR Feed (E)'
            }
        };
        
        let compositionChart = new Chart(compositionCtx, {
            type: 'doughnut',
            data: {
                labels: compositions['21'].labels,
                datasets: [{
                    data: compositions['21'].data,
                    backgroundColor: [
                        'rgba(100, 255, 218, 0.8)',
                        'rgba(10, 123, 255, 0.8)',
                        'rgba(249, 168, 38, 0.8)',
                        'rgba(255, 77, 77, 0.8)',
                        'rgba(153, 102, 255, 0.8)'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        labels: {
                            color: '#ccd6f6',
                            boxWidth: 20,
                            padding: 15
                        }
                    },
                    title: {
                        display: true,
                        text: compositions['21'].title,
                        color: '#ccd6f6',
                        font: {
                            size: 16
                        }
                    }
                }
            }
        });
        
        compositionSelector.addEventListener('change', (e) => {
            const streamId = e.target.value;
            const selectedComp = compositions[streamId];
            compositionChart.data.labels = selectedComp.labels;
            compositionChart.data.datasets[0].data = selectedComp.data;
            compositionChart.options.plugins.title.text = selectedComp.title;
            compositionChart.update();
        });
        
        // Stream Components Chart
        const streamComponentsCtx = document.getElementById('streamComponentsChart').getContext('2d');

        const streamLabels = [
            'Tank Inlet (Pure H2) (B)',
            'Separator Outlet (C)',
            'SMR Product (D)',
            'SMR Feed (E)',
            'Methane Feed (F)',
            'LTS Product (G)',
            'LTS Inlet (H)',
            'HTS Product (I)',
            'HTS Inlet (J)',
            'Final Pure H2 (K)',
            'Feed Water Mixer Inlet 2 (L)',
            'Feed Methane Mixer Inlet 1 (M)',
            'Clean H2 (N)',
            'Stream 9 (O)',
            'Stream 7 (P)',
            'Stream 6 (Q)',
            'Stream 4 (R)',
            'Stream 26 (S)',
            'Stream 2 (T)',
            'Stream 16 (U)',
            'Stream 14 (V)'
        ];

        const components = ['Hydrogen', 'Water', 'Carbon Monoxide', 'Carbon Dioxide', 'Methane'];

        const componentColors = [
            'rgba(100, 255, 218, 0.8)', // Hydrogen
            'rgba(10, 123, 255, 0.8)',  // Water
            'rgba(249, 168, 38, 0.8)',  // CO
            'rgba(255, 77, 77, 0.8)',   // CO2
            'rgba(153, 102, 255, 0.8)'  // Methane
        ];

        const knownCompositions = {
            'Tank Inlet (Pure H2) (B)': [100, 0, 0, 0, 0],
            'SMR Product (D)': [49.8, 37.5, 1.13, 11.6, 0.0001],
            'SMR Feed (E)': [0, 82.9, 0, 0, 17.1],
            'Methane Feed (F)': [0, 0, 0, 0, 100]
            // Add more streams here with their composition data from DWSIM output
        };

        const datasets = components.map((component, index) => ({
            label: component,
            data: streamLabels.map(label => knownCompositions[label] ? knownCompositions[label][index] : 0),
            backgroundColor: componentColors[index]
        }));

        const streamComponentsChart = new Chart(streamComponentsCtx, {
            type: 'bar',
            data: {
                labels: streamLabels,
                datasets: datasets
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'top',
                        labels: {
                            color: '#ccd6f6'
                        }
                    },
                    title: {
                        display: true,
                        text: 'Stream Components Composition',
                        color: '#ccd6f6',
                        font: {
                            size: 16
                        }
                    }
                },
                scales: {
                    x: {
                        stacked: true,
                        grid: {
                            display: false
                        },
                        ticks: {
                            color: '#a8b2d1',
                            maxRotation: 90,
                            minRotation: 90
                        }
                    },
                    y: {
                        stacked: true,
                        grid: {
                            color: 'rgba(100, 255, 218, 0.1)'
                        },
                        ticks: {
                            color: '#a8b2d1',
                            callback: function(value) {
                                return value + '%';
                            }
                        },
                        title: {
                            display: true,
                            text: 'Composition (%)',
                            color: '#a8b2d1'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
